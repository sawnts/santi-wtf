<!DOCTYPE html>
<!-- santi.wtf - powered by vibes -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Santi's Desktop</title>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    <!-- Beehiiv -->
    <script async src="https://subscribe-forms.beehiiv.com/embed.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'MS Sans Serif', Arial, sans-serif;
            overflow: hidden;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><defs><filter id="noise"><feTurbulence baseFrequency="0.9" numOctaves="4"/><feColorMatrix values="0 0 0 0 0.4, 0 0 0 0 0.6, 0 0 0 0 0.9, 0 0 0 0.3 0"/></filter></defs><rect width="100" height="100" filter="url(%23noise)"/></svg>'),
                        linear-gradient(180deg, #1084d0 0%, #0f6bb5 50%, #0e5a9e 100%);
            background-size: 200px, 100%;
            height: 100vh;
            cursor: default;
            user-select: none;
        }

        .desktop {
            height: calc(100vh - 28px);
            padding: 10px;
            position: relative;
        }

        .icon {
            width: 70px;
            text-align: center;
            margin-bottom: 20px;
            cursor: pointer;
            position: absolute;
        }

        .icon-img {
            font-size: 32px;
            margin: 0 auto 4px;
            text-align: center;
            line-height: 1;
        }

        .icon-img img {
            width: 32px;
            height: 32px;
            image-rendering: pixelated;
            image-rendering: crisp-edges;
            -ms-interpolation-mode: nearest-neighbor;
        }

        .title-icon img {
            width: 16px;
            height: 16px;
            image-rendering: pixelated;
            image-rendering: crisp-edges;
            -ms-interpolation-mode: nearest-neighbor;
        }

        .icon-label {
            color: #fff;
            font-size: 11px;
            text-shadow: 1px 1px 2px #000;
            padding: 2px 4px;
        }

        .icon.selected .icon-label {
            background: #000080;
        }

        .window {
            position: absolute;
            background: #c0c0c0;
            border: 2px solid;
            border-color: #dfdfdf #808080 #808080 #dfdfdf;
            min-width: 400px;
            min-height: 200px;
            box-shadow: 2px 2px 0 rgba(0,0,0,0.2);
            display: none;
            resize: both;
            overflow: hidden;
        }

        .resize-handle {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 16px;
            height: 16px;
            cursor: nwse-resize;
            background: linear-gradient(135deg, 
                transparent 0%, transparent 40%, 
                #808080 40%, #808080 45%, 
                transparent 45%, transparent 50%,
                #808080 50%, #808080 55%,
                transparent 55%, transparent 60%,
                #808080 60%, #808080 65%,
                transparent 65%);
        }

        .window.active {
            z-index: 1000;
        }

        .title-bar {
            background: linear-gradient(90deg, #000080, #1084d0);
            padding: 2px 4px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: move;
        }

        .window:not(.active) .title-bar {
            background: linear-gradient(90deg, #808080, #a0a0a0);
        }

        .title-text {
            color: #fff;
            font-size: 11px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .title-icon {
            font-size: 14px;
            line-height: 1;
        }

        .title-buttons {
            display: flex;
            gap: 2px;
        }

        .title-btn {
            width: 16px;
            height: 14px;
            background: #c0c0c0;
            border: 1px solid;
            border-color: #fff #000 #000 #fff;
            font-size: 9px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-weight: bold;
        }

        .title-btn:active {
            border-color: #000 #fff #fff #000;
        }

        .menu-bar {
            background: #c0c0c0;
            border-bottom: 1px solid #808080;
            padding: 2px 4px;
            font-size: 11px;
        }

        .menu-item {
            display: inline-block;
            padding: 2px 6px;
            cursor: pointer;
        }

        .menu-item:hover {
            background: #000080;
            color: #fff;
        }

        .toolbar {
            background: #c0c0c0;
            padding: 4px;
            border-bottom: 1px solid #808080;
            display: flex;
            gap: 2px;
        }

        .toolbar-btn {
            width: 24px;
            height: 22px;
            background: #c0c0c0;
            border: 1px solid;
            border-color: #fff #000 #000 #fff;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
        }

        .toolbar-btn:active {
            border-color: #000 #fff #fff #000;
        }

        .address-bar {
            background: #fff;
            border: 1px solid;
            border-color: #808080 #dfdfdf #dfdfdf #808080;
            padding: 3px 4px;
            margin: 4px;
            font-size: 11px;
        }

        .window-content {
            background: #fff;
            height: calc(100% - 100px);
            overflow-y: auto;
            padding: 20px;
            font-size: 12px;
            line-height: 1.4;
        }

        .window-content p {
            margin-bottom: 16px;
        }

        .window-content h1 {
            font-size: 24px;
            margin-bottom: 12px;
            text-align: center;
        }

        .window-content h2 {
            font-size: 18px;
            margin: 24px 0 12px;
        }

        .window-content a {
            color: #0000ff;
            text-decoration: underline;
        }

        .window-content a:visited {
            color: #800080;
        }

        .taskbar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 28px;
            background: #c0c0c0;
            border-top: 2px solid #fff;
            display: flex;
            align-items: center;
            padding: 2px;
            gap: 2px;
        }

        .start-btn {
            height: 24px;
            padding: 0 6px;
            background: #c0c0c0;
            border: 1px solid;
            border-color: #fff #000 #000 #fff;
            display: flex;
            align-items: center;
            gap: 4px;
            cursor: pointer;
            font-weight: bold;
            font-size: 11px;
        }

        .start-btn:active {
            border-color: #000 #fff #fff #000;
        }

        .start-icon {
            font-size: 16px;
            line-height: 1;
        }

        .taskbar-items {
            flex: 1;
            display: flex;
            gap: 2px;
        }

        .taskbar-item {
            height: 22px;
            padding: 0 8px;
            background: #c0c0c0;
            border: 1px solid;
            border-color: #fff #000 #000 #fff;
            display: flex;
            align-items: center;
            gap: 4px;
            cursor: pointer;
            font-size: 11px;
            max-width: 150px;
        }

        .taskbar-item.active {
            border-color: #000 #fff #fff #000;
        }

        .system-tray {
            height: 22px;
            padding: 0 6px;
            border: 1px solid;
            border-color: #808080 #dfdfdf #dfdfdf #808080;
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 11px;
        }

        .start-menu {
            position: fixed;
            bottom: 28px;
            left: 2px;
            width: 200px;
            background: #c0c0c0;
            border: 2px solid;
            border-color: #dfdfdf #000 #000 #dfdfdf;
            display: none;
        }

        .start-menu.open {
            display: block;
        }

        .start-menu-header {
            background: linear-gradient(90deg, #000080, #1084d0);
            color: #fff;
            padding: 4px 8px;
            font-size: 14px;
            font-weight: bold;
        }

        .start-menu-item {
            padding: 4px 8px 4px 8px;
            cursor: pointer;
            font-size: 11px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .start-menu-item:hover {
            background: #000080;
            color: #fff;
        }

        .start-menu-item img {
            width: 16px;
            height: 16px;
            image-rendering: pixelated;
            image-rendering: crisp-edges;
        }

        /* Shut Down Dialog */
        .shutdown-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 128, 0.3);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }

        .shutdown-overlay.open {
            display: flex;
        }

        .shutdown-dialog {
            background: #c0c0c0;
            border: 2px solid;
            border-color: #dfdfdf #808080 #808080 #dfdfdf;
            box-shadow: 4px 4px 0 rgba(0,0,0,0.3);
            max-width: 420px;
            width: 90%;
        }

        .shutdown-dialog .title-bar {
            cursor: default;
        }

        .shutdown-content {
            padding: 16px;
            text-align: center;
        }

        .shutdown-content p {
            font-size: 12px;
            margin-bottom: 16px;
            line-height: 1.5;
        }

        .shutdown-content .beehiiv-embed {
            width: 100% !important;
            max-width: 100% !important;
            border: 1px solid #808080;
            background: #fff;
        }

        .shutdown-buttons {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-top: 16px;
        }

        .shutdown-btn {
            padding: 4px 16px;
            background: #c0c0c0;
            border: 2px solid;
            border-color: #fff #000 #000 #fff;
            font-size: 11px;
            font-family: 'MS Sans Serif', Arial, sans-serif;
            cursor: pointer;
        }

        .shutdown-btn:active {
            border-color: #000 #fff #fff #000;
        }

        /* Clippy Assistant */
        .clippy-container {
            position: fixed;
            bottom: 50px;
            right: 20px;
            z-index: 8888;
            display: none;
        }

        .clippy-container.show {
            display: block;
            animation: clippy-bounce 0.5s ease;
        }

        @keyframes clippy-bounce {
            0% { transform: scale(0) translateY(20px); opacity: 0; }
            50% { transform: scale(1.1) translateY(-5px); }
            100% { transform: scale(1) translateY(0); opacity: 1; }
        }

        .clippy-bubble {
            background: #ffffcc;
            border: 2px solid #000;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 8px;
            position: relative;
            width: 260px;
            font-size: 12px;
            box-shadow: 2px 2px 0 rgba(0,0,0,0.3);
        }

        .clippy-bubble::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 30px;
            border-width: 10px 10px 0;
            border-style: solid;
            border-color: #000 transparent transparent;
        }

        .clippy-bubble::before {
            content: '';
            position: absolute;
            bottom: -7px;
            left: 32px;
            border-width: 8px 8px 0;
            border-style: solid;
            border-color: #ffffcc transparent transparent;
            z-index: 1;
        }

        .clippy-bubble p {
            margin: 0 0 10px 0;
            line-height: 1.4;
        }

        .clippy-buttons {
            display: flex;
            gap: 6px;
        }

        .clippy-btn {
            padding: 3px 10px;
            font-size: 11px;
            background: #c0c0c0;
            border: 2px solid;
            border-color: #fff #000 #000 #fff;
            cursor: pointer;
            font-family: 'MS Sans Serif', Arial, sans-serif;
        }

        .clippy-btn:active {
            border-color: #000 #fff #fff #000;
        }

        .clippy-btn.primary {
            background: #000080;
            color: #fff;
        }

        .clippy-character {
            font-size: 48px;
            cursor: pointer;
            filter: drop-shadow(2px 2px 0 rgba(0,0,0,0.3));
            transition: transform 0.2s;
        }

        .clippy-character:hover {
            transform: scale(1.1) rotate(-5deg);
        }

        .clippy-close {
            position: absolute;
            top: 4px;
            right: 6px;
            font-size: 14px;
            cursor: pointer;
            color: #666;
        }

        .clippy-close:hover {
            color: #000;
        }

        .chat-window .window-content {
            padding: 10px;
            height: calc(100% - 24px);
        }

        #mycomputer .window-content {
            height: calc(100% - 24px);
        }

        #flowgarden .window-content {
            height: calc(100% - 24px);
            padding: 0;
            overflow: hidden;
        }

        .chat-message {
            background: #f0f0f0;
            border: 1px solid #808080;
            padding: 8px;
            margin-bottom: 8px;
            font-size: 11px;
        }

        .chat-author {
            font-weight: bold;
            margin-bottom: 4px;
        }

        .chat-number {
            color: #666;
            font-size: 10px;
        }

        .chat-delete {
            float: right;
            background: #c0c0c0;
            border: 1px solid;
            border-color: #fff #000 #000 #fff;
            font-size: 9px;
            padding: 1px 4px;
            cursor: pointer;
            display: none;
        }

        .chat-delete:hover {
            background: #d0d0d0;
        }

        .admin-mode .chat-delete {
            display: inline-block;
        }

        .player-window {
            min-width: 275px !important;
            min-height: 116px !important;
        }

        .player-window .window-content {
            background: #232323;
            padding: 0;
            height: calc(100% - 24px);
            display: flex;
            flex-direction: column;
        }

        .winamp-main {
            background: linear-gradient(180deg, #1a1a2e 0%, #16213e 50%, #1a1a2e 100%);
            border: 1px solid #0a0a0a;
            padding: 4px;
        }

        .winamp-display {
            background: #0a1628;
            border: 2px solid;
            border-color: #0a0a0a #3a3a4a #3a3a4a #0a0a0a;
            padding: 6px 8px;
            margin-bottom: 4px;
            display: flex;
            gap: 8px;
        }

        .winamp-visualizer {
            width: 75px;
            height: 32px;
            background: #0a0a12;
            display: flex;
            align-items: flex-end;
            justify-content: space-around;
            padding: 2px;
            gap: 1px;
        }

        .viz-bar {
            width: 4px;
            background: linear-gradient(to top, #00ff00 0%, #88ff00 40%, #ffff00 70%, #ff8800 90%, #ff0000 100%);
            transition: height 0.1s ease;
        }

        .winamp-time-display {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .winamp-time {
            font-family: 'Courier New', monospace;
            font-size: 20px;
            font-weight: bold;
            color: #00ff00;
            text-shadow: 0 0 8px #00ff00;
            letter-spacing: 2px;
        }

        .winamp-bitrate {
            font-family: 'Courier New', monospace;
            font-size: 9px;
            color: #00cc00;
            display: flex;
            gap: 12px;
        }

        .winamp-track-info {
            background: #0a0a12;
            border: 1px solid #0a0a0a;
            padding: 3px 6px;
            margin-bottom: 4px;
            overflow: hidden;
        }

        .winamp-ticker {
            color: #00ff88;
            font-size: 10px;
            font-family: 'MS Sans Serif', Arial, sans-serif;
            white-space: nowrap;
            animation: ticker 10s linear infinite;
        }

        @keyframes ticker {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }

        .winamp-ticker.paused {
            animation-play-state: paused;
        }

        .winamp-seek-row {
            display: flex;
            align-items: center;
            gap: 4px;
            margin-bottom: 4px;
            padding: 0 2px;
        }

        .winamp-seek {
            flex: 1;
            height: 10px;
            background: #0a0a12;
            border: 1px solid;
            border-color: #0a0a0a #3a3a4a #3a3a4a #0a0a0a;
            cursor: pointer;
            position: relative;
        }

        .winamp-seek-fill {
            height: 100%;
            background: linear-gradient(90deg, #446688 0%, #88aacc 100%);
            width: 0%;
            position: relative;
        }

        .winamp-seek-handle {
            position: absolute;
            right: -4px;
            top: -2px;
            width: 8px;
            height: 14px;
            background: #c0c0c0;
            border: 1px solid;
            border-color: #fff #666 #666 #fff;
        }

        .winamp-controls {
            display: flex;
            justify-content: center;
            gap: 2px;
            padding: 4px;
            background: linear-gradient(180deg, #2a2a3e 0%, #1a1a2e 100%);
        }

        .winamp-btn {
            width: 23px;
            height: 18px;
            background: linear-gradient(180deg, #4a4a5a 0%, #3a3a4a 50%, #2a2a3a 100%);
            border: 1px solid;
            border-color: #5a5a6a #1a1a2a #1a1a2a #5a5a6a;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 8px;
            color: #ccc;
        }

        .winamp-btn:hover {
            background: linear-gradient(180deg, #5a5a6a 0%, #4a4a5a 50%, #3a3a4a 100%);
        }

        .winamp-btn:active {
            border-color: #1a1a2a #5a5a6a #5a5a6a #1a1a2a;
            background: linear-gradient(180deg, #2a2a3a 0%, #3a3a4a 50%, #4a4a5a 100%);
        }

        .winamp-btn.playing {
            color: #00ff00;
            text-shadow: 0 0 4px #00ff00;
        }

        .winamp-volume-row {
            display: flex;
            align-items: center;
            gap: 4px;
            padding: 2px 6px;
            background: linear-gradient(180deg, #1a1a2e 0%, #16213e 100%);
        }

        .winamp-volume-label {
            font-size: 8px;
            color: #888;
        }

        .winamp-volume {
            flex: 1;
            height: 8px;
            background: #0a0a12;
            border: 1px solid;
            border-color: #0a0a0a #3a3a4a #3a3a4a #0a0a0a;
            cursor: pointer;
            position: relative;
        }

        .winamp-volume-fill {
            height: 100%;
            background: linear-gradient(90deg, #448844 0%, #88cc88 100%);
            width: 80%;
        }

        .winamp-playlist {
            flex: 1;
            background: #0a1218;
            border-top: 2px solid #0a0a0a;
            overflow-y: auto;
            min-height: 40px;
        }

        .winamp-playlist-header {
            background: linear-gradient(90deg, #000080, #1084d0);
            color: #fff;
            font-size: 9px;
            padding: 2px 6px;
            font-weight: bold;
        }

        .winamp-playlist-item {
            padding: 2px 6px;
            font-size: 10px;
            color: #00cc66;
            cursor: pointer;
            display: flex;
            gap: 6px;
        }

        .winamp-playlist-item:hover {
            background: #1a2a3a;
        }

        .winamp-playlist-item.active {
            background: #0a4488;
            color: #fff;
        }

        .winamp-playlist-num {
            color: #666;
            min-width: 18px;
        }

        .winamp-playlist-duration {
            margin-left: auto;
            color: #668866;
        }
        @media (max-width: 768px) {
            body {
                font-size: 14px;
            }

            .desktop {
                height: calc(100vh - 40px);
            }

            .icon {
                width: 60px;
            }

            .icon-img {
                font-size: 28px;
            }

            .icon-label {
                font-size: 10px;
            }

            /* Make windows full screen on mobile */
            .window {
                width: 100% !important;
                height: calc(100vh - 40px) !important;
                left: 0 !important;
                top: 0 !important;
                min-width: 100%;
            }

            .window-content {
                padding: 15px;
                font-size: 14px;
            }

            .window-content h1 {
                font-size: 20px;
            }

            .window-content h2 {
                font-size: 16px;
            }

            /* Taskbar adjustments */
            .taskbar {
                height: 40px;
            }

            .start-btn {
                height: 36px;
                font-size: 14px;
            }

            .taskbar-item {
                height: 34px;
                font-size: 12px;
            }

            .system-tray {
                height: 34px;
                font-size: 12px;
            }

            /* Chat window */
            .chat-window .window-content {
                padding: 10px;
            }

            .chat-message {
                font-size: 12px;
                padding: 6px;
            }

            /* Winamp player adjustments */
            .player-window {
                min-width: 100% !important;
            }

            .winamp-btn {
                width: 32px;
                height: 26px;
                font-size: 12px;
            }

            .winamp-time {
                font-size: 24px;
            }

            .winamp-visualizer {
                width: 80px;
                height: 36px;
            }

            .winamp-playlist-item {
                font-size: 12px;
                padding: 6px 8px;
            }

            /* Start menu */
            .start-menu {
                width: 100%;
                left: 0;
            }

            /* Hide window drag on mobile (not useful on touch) */
            .title-bar {
                cursor: default;
            }

            /* Make toolbar buttons touch-friendly */
            .toolbar-btn {
                width: 32px;
                height: 30px;
            }

            /* Address bar */
            .address-bar {
                font-size: 12px;
            }
        }

        @media (max-width: 480px) {
            /* Extra small phones */
            .window-content {
                padding: 10px;
                font-size: 13px;
            }

            .menu-bar {
                font-size: 10px;
            }

            .toolbar {
                padding: 2px;
            }

            .toolbar-btn {
                width: 28px;
                height: 26px;
                font-size: 12px;
            }
        }

        /* Blog post styles */
        .post {
            font-family: Tahoma, 'MS Sans Serif', sans-serif;
            line-height: 1.7;
            font-size: 14px;
            color: #222;
            padding: 10px 20px 30px;
        }
        .post h1 {
            font-family: Tahoma, 'MS Sans Serif', sans-serif;
            font-size: 26px;
            margin: 0 0 8px 0;
            font-weight: bold;
            color: #000;
        }
        .post h2 {
            font-family: Tahoma, 'MS Sans Serif', sans-serif;
            font-size: 18px;
            margin: 1.2em 0 0.5em 0;
            color: #000;
        }
        .post .date {
            color: #999;
            font-family: Tahoma, 'MS Sans Serif', sans-serif;
            font-size: 11px;
            margin-top: 30px;
        }
        .post p {
            margin: 0 0 1.4em 0;
        }
        .post a {
            color: #0066cc;
            text-decoration: underline;
        }
        .post a:hover {
            color: #003d99;
        }
        .post a:visited {
            color: #551a8b;
        }
        .post blockquote {
            margin: 2.5em 0;
            padding: 20px 25px;
            border-left: 3px solid #0066cc;
            background: #f5f5f5;
            font-style: italic;
        }
        .post ol, .post ul {
            margin: 1em 0;
            margin-left: 0;
            padding-left: 3em;
        }
        .post ol li, .post ul li {
            margin-bottom: 0.6em;
            line-height: 1.6;
        }
        .post img {
            max-width: 100%;
            height: auto;
            margin: 1.5em 0;
            border: 1px solid #ccc;
        }
        .post code {
            font-family: 'Courier New', monospace;
            background: #f0f0f0;
            padding: 2px 6px;
            font-size: 15px;
        }
        .post pre {
            background: #f0f0f0;
            padding: 15px;
            overflow-x: auto;
            border: 1px solid #ccc;
            margin: 1.5em 0;
        }
        .post pre code {
            padding: 0;
            background: none;
        }
        .post-footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #ccc;
            font-family: Tahoma, 'MS Sans Serif', sans-serif;
            font-size: 14px;
            color: #666;
        }
        .post-footer a {
            color: #0066cc;
        }
    </style>
</head>
<body>
    <div class="desktop" id="desktop">
        <div class="icon" style="left: 10px; top: 10px;" onclick="openSubscribeDialog()">
            <div class="icon-img"><img src="icons/envelope_closed-0.png" alt="Newsletter"></div>
            <div class="icon-label">Newsletter</div>
        </div>
        <div class="icon" style="left: 10px; top: 100px;" onclick="openWindow('internet')">
            <div class="icon-img"><img src="icons/html-0.png" alt="Internet Explorer"></div>
            <div class="icon-label">Internet Explorer</div>
        </div>
        <div class="icon" style="left: 10px; top: 190px;" onclick="openWindow('chat')">
            <div class="icon-img"><img src="icons/message_tack-0.png" alt="Guestbook"></div>
            <div class="icon-label">Guestbook</div>
        </div>
        <div class="icon" style="left: 10px; top: 280px;" onclick="openWindow('player')">
            <div class="icon-img"><img src="icons/loudspeaker_rays-0.png" alt="Winamp"></div>
            <div class="icon-label">Winamp</div>
        </div>
        <div class="icon" style="left: 10px; top: 370px;" onclick="openWindow('applications')">
            <div class="icon-img"><img src="icons/directory_closed-0.png" alt="Applications"></div>
            <div class="icon-label">Applications</div>
        </div>
    </div>

    <!-- Internet Explorer Window -->
    <div class="window" id="internet" style="width: 620px; height: 750px; left: 380px; top: 15px;">
        <div class="title-bar" onmousedown="dragStart(event, 'internet')">
            <div class="title-text">
                <div class="title-icon"><img src="icons/html-1.png" alt=""></div>
                <span>Santi's Blog - Internet Explorer</span>
            </div>
            <div class="title-buttons">
                <div class="title-btn" onclick="minimizeWindow('internet')">_</div>
                <div class="title-btn">‚ñ°</div>
                <div class="title-btn" onclick="closeWindow('internet')">‚úï</div>
            </div>
        </div>
        <div class="menu-bar">
            <span class="menu-item">File</span>
            <span class="menu-item">Edit</span>
            <span class="menu-item">View</span>
            <span class="menu-item">Favorites</span>
            <span class="menu-item">Tools</span>
            <span class="menu-item">Help</span>
        </div>
        <div class="toolbar">
            <div class="toolbar-btn" onclick="goBack()">‚Üê</div>
            <div class="toolbar-btn" onclick="goForward()">‚Üí</div>
            <div class="toolbar-btn" onclick="stopLoading()">‚úï</div>
            <div class="toolbar-btn" onclick="refreshPage()">‚Üª</div>
            <div class="toolbar-btn" onclick="loadHome()">üè†</div>
        </div>
        <div class="address-bar">Address: https://santi.wtf</div>
        <div class="window-content" id="blog-content">
            <!-- Content loads here dynamically -->
        </div>
        <div class="resize-handle" onmousedown="resizeStart(event, 'internet')"></div>
    </div>

    <!-- Guestbook Window -->
    <div class="window chat-window" id="chat" style="width: 350px; height: 450px; left: 450px; top: 120px;">
        <div class="title-bar" onmousedown="dragStart(event, 'chat')">
            <div class="title-text">
                <div class="title-icon"><img src="icons/message_tack-1.png" alt=""></div>
                <span>Guestbook</span>
            </div>
            <div class="title-buttons">
                <div class="title-btn" onclick="minimizeWindow('chat')">_</div>
                <div class="title-btn">‚ñ°</div>
                <div class="title-btn" onclick="closeWindow('chat')">‚úï</div>
            </div>
        </div>
        <div class="window-content">
            <!-- Comments loaded dynamically from Firebase -->
            <div id="guestbook-comments">
                <div style="text-align: center; color: #666; padding: 20px;">Loading comments...</div>
            </div>

            <div style="margin-top: 20px; padding-top: 10px; border-top: 1px solid #808080;">
                <div style="font-weight: bold; margin-bottom: 10px; font-size: 11px;">Leave a comment:</div>
                <form id="guestbook-form" style="display: flex; flex-direction: column; gap: 8px;">
                    <input type="text" id="guestbook-name" placeholder="Name (optional)" style="padding: 4px; border: 1px solid #808080; font-size: 11px; font-family: 'MS Sans Serif', Arial, sans-serif;">
                    <textarea id="guestbook-message" rows="3" placeholder="Leave a comment..." required style="padding: 4px; border: 1px solid #808080; font-size: 11px; font-family: 'MS Sans Serif', Arial, sans-serif; resize: vertical;"></textarea>
                    <button type="submit" id="guestbook-submit" style="padding: 4px 12px; background: #c0c0c0; border: 1px solid; border-color: #fff #000 #000 #fff; cursor: pointer; font-size: 11px; font-family: 'MS Sans Serif', Arial, sans-serif; align-self: flex-start;">Post</button>
                </form>
            </div>
        </div>
        <div class="resize-handle" onmousedown="resizeStart(event, 'chat')"></div>
    </div>

    <!-- Winamp Player Window -->
    <div class="window player-window" id="player" style="width: 275px; height: 240px; left: 200px; top: 200px;">
        <div class="title-bar" onmousedown="dragStart(event, 'player')">
            <div class="title-text">
                <div class="title-icon"><img src="icons/loudspeaker_rays-1.png" alt=""></div>
                <span>Winamp</span>
            </div>
            <div class="title-buttons">
                <div class="title-btn" onclick="minimizeWindow('player')">_</div>
                <div class="title-btn">‚ñ°</div>
                <div class="title-btn" onclick="closeWindow('player')">‚úï</div>
            </div>
        </div>
        <div class="window-content">
            <div class="winamp-main">
                <div class="winamp-display">
                    <div class="winamp-visualizer" id="visualizer">
                        <div class="viz-bar" style="height: 20%"></div>
                        <div class="viz-bar" style="height: 40%"></div>
                        <div class="viz-bar" style="height: 60%"></div>
                        <div class="viz-bar" style="height: 30%"></div>
                        <div class="viz-bar" style="height: 80%"></div>
                        <div class="viz-bar" style="height: 50%"></div>
                        <div class="viz-bar" style="height: 35%"></div>
                        <div class="viz-bar" style="height: 65%"></div>
                        <div class="viz-bar" style="height: 25%"></div>
                        <div class="viz-bar" style="height: 45%"></div>
                    </div>
                    <div class="winamp-time-display">
                        <div class="winamp-time" id="winamp-time">0:00</div>
                        <div class="winamp-bitrate">
                            <span>128</span><span>kbps</span><span>44</span><span>kHz</span>
                        </div>
                    </div>
                </div>
                <div class="winamp-track-info">
                    <div class="winamp-ticker paused" id="winamp-ticker">Esperanza - vibes</div>
                </div>
                <div class="winamp-seek-row">
                    <div class="winamp-seek" id="winamp-seek" onclick="seekTo(event)">
                        <div class="winamp-seek-fill" id="winamp-seek-fill">
                            <div class="winamp-seek-handle"></div>
                        </div>
                    </div>
                </div>
                <div class="winamp-controls">
                    <div class="winamp-btn" onclick="prevTrack()" title="Previous">‚èÆ</div>
                    <div class="winamp-btn" id="playBtn" onclick="winampPlay()" title="Play">‚ñ∂</div>
                    <div class="winamp-btn" onclick="winampPause()" title="Pause">‚è∏</div>
                    <div class="winamp-btn" onclick="winampStop()" title="Stop">‚èπ</div>
                    <div class="winamp-btn" onclick="nextTrack()" title="Next">‚è≠</div>
                </div>
                <div class="winamp-volume-row">
                    <span class="winamp-volume-label">VOL</span>
                    <div class="winamp-volume" onclick="setVolume(event)">
                        <div class="winamp-volume-fill" id="winamp-volume-fill"></div>
                    </div>
                </div>
            </div>
            <div class="winamp-playlist" id="winamp-playlist">
                <div class="winamp-playlist-header">Playlist</div>
            </div>
            <audio id="audioPlayer">
                <source src="vibes/Esperanza.mp3" type="audio/mpeg">
            </audio>
        </div>
        <div class="resize-handle" onmousedown="resizeStart(event, 'player')"></div>
    </div>

    <!-- My Computer Window -->
    <div class="window" id="mycomputer" style="width: 400px; height: 350px; left: 100px; top: 80px;">
        <div class="title-bar" onmousedown="dragStart(event, 'mycomputer')">
            <div class="title-text">
                <div class="title-icon"><img src="icons/computer_explorer-1.png" alt=""></div>
                <span>My Computer</span>
            </div>
            <div class="title-buttons">
                <div class="title-btn" onclick="minimizeWindow('mycomputer')">_</div>
                <div class="title-btn">‚ñ°</div>
                <div class="title-btn" onclick="closeWindow('mycomputer')">‚úï</div>
            </div>
        </div>
        <div class="window-content" style="display: flex; flex-wrap: wrap; gap: 20px; padding: 20px; background: #fff;">
            <div style="text-align: center; width: 70px; cursor: pointer;">
                <div class="icon-img"><img src="icons/floppy_drive_3_5-0.png" alt=""></div>
                <div style="font-size: 11px; margin-top: 4px;">3¬Ω Floppy (A:)</div>
            </div>
            <div style="text-align: center; width: 70px; cursor: pointer;">
                <div class="icon-img"><img src="icons/hard_disk_drive-0.png" alt=""></div>
                <div style="font-size: 11px; margin-top: 4px;">(C:)</div>
            </div>
            <div style="text-align: center; width: 70px; cursor: pointer;">
                <div class="icon-img"><img src="icons/cd_drive-0.png" alt=""></div>
                <div style="font-size: 11px; margin-top: 4px;">(D:)</div>
            </div>
            <div style="text-align: center; width: 70px; cursor: pointer;">
                <div class="icon-img"><img src="icons/printer-0.png" alt=""></div>
                <div style="font-size: 11px; margin-top: 4px;">Printers</div>
            </div>
            <div style="text-align: center; width: 70px; cursor: pointer;">
                <div class="icon-img"><img src="icons/directory_control_panel-0.png" alt=""></div>
                <div style="font-size: 11px; margin-top: 4px;">Control Panel</div>
            </div>
        </div>
        <div class="resize-handle" onmousedown="resizeStart(event, 'mycomputer')"></div>
    </div>

    <!-- Applications Folder Window -->
    <div class="window" id="applications" style="width: 400px; height: 300px; left: 150px; top: 120px;">
        <div class="title-bar" onmousedown="dragStart(event, 'applications')">
            <div class="title-text">
                <div class="title-icon"><img src="icons/directory_closed-1.png" alt=""></div>
                <span>Applications</span>
            </div>
            <div class="title-buttons">
                <div class="title-btn" onclick="minimizeWindow('applications')">_</div>
                <div class="title-btn">‚ñ°</div>
                <div class="title-btn" onclick="closeWindow('applications')">‚úï</div>
            </div>
        </div>
        <div class="window-content" style="height: calc(100% - 24px); display: flex; flex-wrap: wrap; gap: 20px; padding: 20px; align-content: flex-start;">
            <div class="icon" style="position: static;" onclick="openWindow('flowgarden')">
                <div class="icon-img"><img src="icons/tree-0.png" alt=""></div>
                <div class="icon-label" style="color: #000; text-shadow: none;">Flow Garden</div>
            </div>
            <div class="icon" style="position: static;" onclick="openWindow('stickynotes')">
                <div class="icon-img"><img src="icons/note-0.png" alt=""></div>
                <div class="icon-label" style="color: #000; text-shadow: none;">Sticky Notes</div>
            </div>
        </div>
        <div class="resize-handle" onmousedown="resizeStart(event, 'applications')"></div>
    </div>

    <!-- Sticky Notes Window -->
    <div class="window" id="stickynotes" style="width: 550px; height: 420px; left: 200px; top: 80px;">
        <div class="title-bar" onmousedown="dragStart(event, 'stickynotes')">
            <div class="title-text">
                <div class="title-icon"><img src="icons/note-1.png" alt=""></div>
                <span>Sticky Notes</span>
            </div>
            <div class="title-buttons">
                <div class="title-btn" onclick="minimizeWindow('stickynotes')">_</div>
                <div class="title-btn">‚ñ°</div>
                <div class="title-btn" onclick="closeWindow('stickynotes')">‚úï</div>
            </div>
        </div>
        <div class="window-content" id="stickynotes-content" style="height: calc(100% - 24px); padding: 0; overflow: hidden;">
            <!-- Content loads here dynamically -->
        </div>
        <div class="resize-handle" onmousedown="resizeStart(event, 'stickynotes')"></div>
    </div>

    <!-- Flow Garden Window -->
    <div class="window" id="flowgarden" style="width: 720px; height: 520px; left: 120px; top: 50px;">
        <div class="title-bar" onmousedown="dragStart(event, 'flowgarden')">
            <div class="title-text">
                <div class="title-icon"><img src="icons/tree-1.png" alt=""></div>
                <span>Flow Garden</span>
            </div>
            <div class="title-buttons">
                <div class="title-btn" onclick="minimizeWindow('flowgarden')">_</div>
                <div class="title-btn">‚ñ°</div>
                <div class="title-btn" onclick="closeWindow('flowgarden')">‚úï</div>
            </div>
        </div>
        <div class="window-content" id="flowgarden-content" style="height: calc(100% - 24px);">
            <!-- Content loads here dynamically -->
        </div>
        <div class="resize-handle" onmousedown="resizeStart(event, 'flowgarden')"></div>
    </div>

    <!-- Taskbar -->
    <div class="taskbar">
        <div class="start-btn" onclick="toggleStartMenu()">
            <div class="start-icon"><img src="icons/windows-0.png" alt="" style="width: 16px; height: 16px; image-rendering: pixelated;"></div>
            <span>Start</span>
        </div>
        <div class="taskbar-items" id="taskbar-items"></div>
        <div class="system-tray">
            <span>üîä</span>
            <span id="clock">7:08 PM</span>
        </div>
    </div>

    <!-- Start Menu -->
    <div class="start-menu" id="start-menu">
        <div class="start-menu-header">santi.wtf</div>
        <div class="start-menu-item" onclick="openWindow('internet')"><img src="icons/html-1.png" alt="">Internet Explorer</div>
        <div class="start-menu-item" onclick="openWindow('chat')"><img src="icons/message_tack-1.png" alt="">Guestbook</div>
        <div class="start-menu-item" onclick="openWindow('player')"><img src="icons/loudspeaker_rays-1.png" alt="">Winamp</div>
        <div class="start-menu-item" onclick="openWindow('applications')"><img src="icons/directory_closed-1.png" alt="">Applications</div>
        <div style="border-top: 1px solid #808080; margin: 2px 0;"></div>
        <div class="start-menu-item" onclick="openShutdownDialog()"><img src="icons/shut_down_normal-1.png" alt="">Shut Down...</div>
    </div>

    <!-- Clippy Assistant -->
    <div class="clippy-container" id="clippy">
        <div class="clippy-bubble">
            <span class="clippy-close" onclick="dismissClippy()">&times;</span>
            <p>It looks like you're enjoying the site! Want to get my latest posts in your inbox?</p>
            <div class="clippy-buttons">
                <button class="clippy-btn primary" onclick="clippySubscribe()">Sure!</button>
                <button class="clippy-btn" onclick="dismissClippy()">No thanks</button>
            </div>
        </div>
        <div class="clippy-character" onclick="toggleClippyBubble()"><img src="icons/msagent-4.png" alt="" style="width: 48px; height: 48px; image-rendering: pixelated;"></div>
    </div>

    <!-- Shut Down Dialog (Newsletter Easter Egg) -->
    <div class="shutdown-overlay" id="shutdown-overlay" onclick="closeShutdownDialog(event)">
        <div class="shutdown-dialog" onclick="event.stopPropagation()">
            <div class="title-bar">
                <div class="title-text">
                    <div class="title-icon" id="subscribe-dialog-icon"><img src="icons/shut_down_normal-1.png" alt=""></div>
                    <span id="subscribe-dialog-title">Shut Down</span>
                </div>
                <div class="title-buttons">
                    <div class="title-btn" onclick="closeShutdownDialog()">‚úï</div>
                </div>
            </div>
            <div class="shutdown-content">
                <p id="subscribe-message"><strong>Wait! Before you go...</strong><br>Subscribe to get my latest thoughts delivered straight to your inbox.</p>
                <iframe
                    src="https://subscribe-forms.beehiiv.com/31d4bffd-241f-42e3-82b3-6d084ef26221"
                    class="beehiiv-embed"
                    data-test-id="beehiiv-embed"
                    frameborder="0"
                    scrolling="no"
                    style="height: 40px;">
                </iframe>
                <div class="shutdown-buttons">
                    <button class="shutdown-btn" onclick="closeShutdownDialog()">Maybe Later</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let activeWindow = null;
        let draggedWindow = null;
        let offsetX = 0;
        let offsetY = 0;

        // Resize variables
        let resizedWindow = null;
        let startX = 0;
        let startY = 0;
        let startWidth = 0;
        let startHeight = 0;

        // Track minimized and open windows
        const minimizedWindows = new Set();
        const openWindows = new Set();

        function openWindow(id) {
            const win = document.getElementById(id);
            win.style.display = 'block';
            openWindows.add(id);
            minimizedWindows.delete(id);
            setActiveWindow(id);
            updateTaskbar();
            closeStartMenu();

            // Load content for app windows
            if (id === 'flowgarden') {
                loadFlowGarden();
            } else if (id === 'stickynotes') {
                loadStickyNotes();
            }
        }

        function minimizeWindow(id) {
            const win = document.getElementById(id);
            win.style.display = 'none';
            minimizedWindows.add(id);
            win.classList.remove('active');
            activeWindow = null;
            updateTaskbar();
        }

        function restoreWindow(id) {
            const win = document.getElementById(id);
            win.style.display = 'block';
            minimizedWindows.delete(id);
            setActiveWindow(id);
            updateTaskbar();
        }

        function closeWindow(id) {
            const win = document.getElementById(id);
            win.style.display = 'none';
            openWindows.delete(id);
            minimizedWindows.delete(id);
            updateTaskbar();

            // Stop music when closing Winamp
            if (id === 'player') {
                winampStop();
            }
        }

        function setActiveWindow(id) {
            document.querySelectorAll('.window').forEach(w => w.classList.remove('active'));
            const win = document.getElementById(id);
            win.classList.add('active');
            activeWindow = id;
        }

        function updateTaskbar() {
            const container = document.getElementById('taskbar-items');
            container.innerHTML = '';

            document.querySelectorAll('.window').forEach(win => {
                const isVisible = win.style.display === 'block';
                const isMinimized = minimizedWindows.has(win.id);

                if (isVisible || isMinimized) {
                    const item = document.createElement('div');
                    item.className = 'taskbar-item';
                    if (win.classList.contains('active')) item.classList.add('active');

                    // Get icon and title
                    const icon = win.querySelector('.title-icon').textContent;
                    let title = win.querySelector('.title-text span').textContent;

                    // Truncate long titles
                    const maxLength = 15;
                    if (title.length > maxLength) {
                        title = title.substring(0, maxLength) + '...';
                    }

                    item.innerHTML = `<span style="margin-right: 4px;">${icon}</span>${title}`;

                    item.onclick = () => {
                        if (minimizedWindows.has(win.id)) {
                            restoreWindow(win.id);
                        } else {
                            setActiveWindow(win.id);
                        }
                    };
                    container.appendChild(item);
                }
            });
        }

        function toggleStartMenu() {
            document.getElementById('start-menu').classList.toggle('open');
        }

        function closeStartMenu() {
            document.getElementById('start-menu').classList.remove('open');
        }

        // Shut Down Dialog (Newsletter Easter Egg)
        const subscribeMessages = {
            shutdown: "<strong>Wait! Before you go...</strong><br>Subscribe to get my latest thoughts delivered straight to your inbox.",
            clippy: "<strong>Great choice!</strong><br>Enter your email to get my latest posts.",
            newsletter: "<strong>Stay connected</strong><br>Get my latest posts delivered straight to your inbox."
        };

        function openShutdownDialog(source = 'shutdown') {
            closeStartMenu();
            document.getElementById('subscribe-message').innerHTML = subscribeMessages[source];
            document.getElementById('subscribe-dialog-title').textContent = source === 'shutdown' ? 'Shut Down' : 'Newsletter';
            document.getElementById('subscribe-dialog-icon').innerHTML = source === 'shutdown'
                ? '<img src="icons/shut_down_normal-1.png" alt="">'
                : '<img src="icons/envelope_closed-1.png" alt="">';
            document.getElementById('shutdown-overlay').classList.add('open');
        }

        function openSubscribeDialog() {
            openShutdownDialog('newsletter');
        }

        function closeShutdownDialog(event) {
            // If called from overlay click, only close if clicking the overlay itself
            if (event && event.currentTarget && event.target !== event.currentTarget) return;
            document.getElementById('shutdown-overlay').classList.remove('open');
        }

        // Clippy Assistant
        let clippyDismissed = sessionStorage.getItem('clippyDismissed');
        let clippyBubbleVisible = true;

        function initClippy() {
            if (clippyDismissed) return;

            // Show Clippy after 15 seconds
            setTimeout(() => {
                document.getElementById('clippy').classList.add('show');
            }, 15000);
        }

        function dismissClippy() {
            document.getElementById('clippy').classList.remove('show');
            sessionStorage.setItem('clippyDismissed', 'true');
            clippyDismissed = true;
        }

        function toggleClippyBubble() {
            const bubble = document.querySelector('.clippy-bubble');
            clippyBubbleVisible = !clippyBubbleVisible;
            bubble.style.display = clippyBubbleVisible ? 'block' : 'none';
        }

        function clippySubscribe() {
            dismissClippy();
            openShutdownDialog('clippy');
        }

        // Initialize Clippy on page load
        document.addEventListener('DOMContentLoaded', initClippy);

        function dragStart(e, id) {
            draggedWindow = document.getElementById(id);
            setActiveWindow(id);
            
            const rect = draggedWindow.getBoundingClientRect();
            offsetX = e.clientX - rect.left;
            offsetY = e.clientY - rect.top;
            
            document.addEventListener('mousemove', drag);
            document.addEventListener('mouseup', dragEnd);
        }

        function drag(e) {
            if (!draggedWindow) return;
            
            const x = e.clientX - offsetX;
            const y = e.clientY - offsetY;
            
            draggedWindow.style.left = Math.max(0, x) + 'px';
            draggedWindow.style.top = Math.max(0, y) + 'px';
        }

        function dragEnd() {
            draggedWindow = null;
            document.removeEventListener('mousemove', drag);
            document.removeEventListener('mouseup', dragEnd);
        }

        // Window resize functions
        function resizeStart(e, id) {
            e.stopPropagation();
            resizedWindow = document.getElementById(id);
            setActiveWindow(id);
            
            startX = e.clientX;
            startY = e.clientY;
            startWidth = resizedWindow.offsetWidth;
            startHeight = resizedWindow.offsetHeight;
            
            document.addEventListener('mousemove', resize);
            document.addEventListener('mouseup', resizeEnd);
        }

        function resize(e) {
            if (!resizedWindow) return;
            
            const width = startWidth + (e.clientX - startX);
            const height = startHeight + (e.clientY - startY);
            
            // Enforce minimum sizes
            if (width >= 400) {
                resizedWindow.style.width = width + 'px';
            }
            if (height >= 200) {
                resizedWindow.style.height = height + 'px';
            }
        }

        function resizeEnd() {
            resizedWindow = null;
            document.removeEventListener('mousemove', resize);
            document.removeEventListener('mouseup', resizeEnd);
        }

        // Click outside start menu to close
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.start-btn') && !e.target.closest('.start-menu')) {
                closeStartMenu();
            }
        });

        // Browser history for navigation
        let browserHistory = [];
        let historyPosition = -1;

        // Store the home content
        const homeContent = `
            <div class="post">
                <h1>santi.wtf</h1>
                <p style="text-align: center; margin-bottom: 20px;">
                    <a href="#" onclick="loadHome(); return false;">home</a> | <a href="#" onclick="loadPost('posts/now.html'); return false;">now</a> | <a href="#" onclick="loadArchive(); return false;">archive</a>
                </p>
                <h2>welcome, friend. please take off your shoes</h2>
                <p>i built this site because i miss the internet ‚Äî the one before the apps.</p>
                <p>i miss all the weird little corners of the web where people shared their thoughts, art, and creativity freely. the times when social media was social and communities were built around shared passions and genuine connections. i miss the vast, chaotic, and human-made web.</p>
                <p>i miss that internet.</p>
                <p>so i made a little corner of my own to share my thoughts, ideas, and projects with you. away from the noise of algorithms, influencers, and ads. just me, my words, and, now, you.</p>
                <p>there's lots to see here, so take your time exploring. read my thoughts, check out my projects, and, if the spirit moves you, drop me a line in the guestbook.</p>
                <p>and come back soon (and often). you might find something new.</p>
                <p>btw, it took me a disgusting amount of time to make this site look and act like i wanted it to, so if you're viewing on anything other than a computer you're not getting the full experience.</p>
                <p>&lt;3 santi</p>
                <h2>recent posts:</h2>
                <ul>
                    <li><a href="#" onclick="loadPost('posts/first-post.html'); return false;">pls ignore</a></li>
                </ul>

                <h2>about me:</h2>
                <p>i'm a creative building <a href="https://mail.0ffbrand.com" target="_blank">0ffbrand</a>, selling software by day, and ideas by night. when i'm not working, i like to read, write, and play chess.</p>

                <p><strong>location:</strong> seattle, wa.</p>

                <p><strong>exploring:</strong> the intersection of creativity, philosophy, and business.</p>

                <h2>links:</h2>
                <p>
                    <a href="https://mail.0ffbrand.com" target="_blank">0ffbrand</a> |
                    <a href="https://www.threads.com/@yosawnts" target="_blank">Threads</a> |
                    <a href="mailto:yosawnts@gmail.com">Email</a>
                </p>
            </div>
        `;

        // Archive content
        const archiveContent = `
            <div class="post">
                <h1>santi.wtf</h1>
                <p style="text-align: center; margin-bottom: 20px;">
                    <a href="#" onclick="loadHome(); return false;">home</a> | <a href="#" onclick="loadPost('posts/now.html'); return false;">now</a> | <a href="#" onclick="loadArchive(); return false;">archive</a>
                </p>

                <h2>archive</h2>
                <p>all posts, newest first.</p>

                <div style="margin-top: 30px;">
                    <h3 style="font-size: 16px; color: #666; margin-bottom: 15px;">2026</h3>
                    <ul style="list-style: none; padding: 0 !important; margin-left: 0 !important;">
                        <li style="margin-bottom: 12px;">
                            <span style="color: #666; font-size: 11px; font-family: monospace;">jan 02</span>
                            <a href="#" onclick="loadPost('posts/first-post.html'); return false;">pls ignore</a>
                        </li>
                    </ul>
                </div>

                <p style="margin-top: 40px; color: #666; font-size: 11px;">
                    ${new Date().toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}
                </p>
            </div>
        `;

        // Load home content
        function loadHome(updateHash = true) {
            const content = document.getElementById('blog-content');
            if (content) {
                content.innerHTML = homeContent;
                content.scrollTop = 0;

                // Update URL hash
                if (updateHash) {
                    history.pushState(null, '', window.location.pathname);
                    updateAddressBar('https://santi.wtf');
                }

                // Add to history
                addToHistory('home', homeContent);
            }
        }

        // Load archive page
        function loadArchive(updateHash = true) {
            const content = document.getElementById('blog-content');
            if (content) {
                content.innerHTML = archiveContent;
                content.scrollTop = 0;

                // Update URL hash
                if (updateHash) {
                    history.pushState(null, '', '#archive');
                    updateAddressBar('https://santi.wtf/archive');
                }

                // Add to history
                addToHistory('archive', archiveContent);
            }
        }

        // Update address bar display
        function updateAddressBar(url) {
            const addressBar = document.querySelector('.address-bar');
            if (addressBar) {
                addressBar.textContent = 'Address: ' + url;
            }
        }

        // Load Flow Garden content
        async function loadFlowGarden() {
            const content = document.getElementById('flowgarden-content');
            if (!content || content.dataset.loaded === 'true') return;

            try {
                const response = await fetch('applications/flowgarden.html');
                const html = await response.text();

                const parser = new DOMParser();
                const doc = parser.parseFromString(html, 'text/html');
                const body = doc.querySelector('body');
                const styles = doc.querySelectorAll('style');
                const scripts = doc.querySelectorAll('script');

                if (body) {
                    // Inject styles first, then body content
                    let styleHTML = '';
                    styles.forEach(style => { styleHTML += style.outerHTML; });
                    content.innerHTML = styleHTML + body.innerHTML;

                    // Execute scripts manually (innerHTML doesn't execute scripts)
                    scripts.forEach(oldScript => {
                        const newScript = document.createElement('script');
                        newScript.textContent = oldScript.textContent;
                        content.appendChild(newScript);
                    });

                    content.dataset.loaded = 'true';
                }
            } catch (error) {
                content.innerHTML = '<p>Error loading Flow Garden.</p>';
                console.error('Error loading Flow Garden:', error);
            }
        }

        // Load Sticky Notes content
        async function loadStickyNotes() {
            const content = document.getElementById('stickynotes-content');
            if (!content || content.dataset.loaded === 'true') return;

            try {
                const response = await fetch('applications/stickynotes.html');
                const html = await response.text();

                const parser = new DOMParser();
                const doc = parser.parseFromString(html, 'text/html');
                const body = doc.querySelector('body');
                const styles = doc.querySelectorAll('style');
                const scripts = doc.querySelectorAll('script');

                if (body) {
                    let styleHTML = '';
                    styles.forEach(style => { styleHTML += style.outerHTML; });
                    content.innerHTML = styleHTML + body.innerHTML;

                    scripts.forEach(oldScript => {
                        const newScript = document.createElement('script');
                        newScript.textContent = oldScript.textContent;
                        content.appendChild(newScript);
                    });

                    content.dataset.loaded = 'true';
                }
            } catch (error) {
                content.innerHTML = '<p>Error loading Sticky Notes.</p>';
                console.error('Error loading Sticky Notes:', error);
            }
        }

        // Load a blog post
        async function loadPost(url, updateHash = true) {
            const content = document.getElementById('blog-content');
            if (!content) return;

            try {
                const response = await fetch(url);
                const html = await response.text();

                // Extract styles and body content from the post
                const parser = new DOMParser();
                const doc = parser.parseFromString(html, 'text/html');
                const styles = doc.querySelectorAll('style');
                const body = doc.querySelector('body');

                if (body) {
                    // Replace "back to desktop" links with "back to home" that works in-window
                    let postContent = '';

                    // Add styles first
                    styles.forEach(style => { postContent += style.outerHTML; });

                    // Add body content
                    postContent += body.innerHTML;
                    postContent = postContent.replace(/‚Üê back to desktop/g, '‚Üê back to home');
                    postContent = postContent.replace(/href="\.\.\/index\.html"/g, 'href="#" onclick="loadHome(); return false;"');

                    content.innerHTML = postContent;
                    content.scrollTop = 0;

                    // Update URL hash
                    if (updateHash) {
                        history.pushState(null, '', '#' + url);
                        // Extract post name for address bar
                        const postName = url.replace('posts/', '').replace('.html', '');
                        updateAddressBar('https://santi.wtf/' + postName);
                    }

                    // Add to history
                    addToHistory(url, postContent);
                } else {
                    content.innerHTML = '<p>Error loading post.</p>';
                }
            } catch (error) {
                content.innerHTML = '<p>Error loading post. Make sure the file exists in the posts folder.</p>';
                console.error('Error loading post:', error);
            }
        }

        // Add page to browser history
        function addToHistory(url, content) {
            // If we're not at the end of history, remove everything after current position
            if (historyPosition < browserHistory.length - 1) {
                browserHistory = browserHistory.slice(0, historyPosition + 1);
            }
            
            browserHistory.push({ url, content });
            historyPosition = browserHistory.length - 1;
        }

        // Navigate back
        function goBack() {
            if (historyPosition > 0) {
                historyPosition--;
                const page = browserHistory[historyPosition];
                const content = document.getElementById('blog-content');
                if (content) {
                    content.innerHTML = page.content;
                    content.scrollTop = 0;
                    updateHashForPage(page.url);
                }
            }
        }

        // Navigate forward
        function goForward() {
            if (historyPosition < browserHistory.length - 1) {
                historyPosition++;
                const page = browserHistory[historyPosition];
                const content = document.getElementById('blog-content');
                if (content) {
                    content.innerHTML = page.content;
                    content.scrollTop = 0;
                    updateHashForPage(page.url);
                }
            }
        }

        // Update hash based on page type
        function updateHashForPage(pageUrl) {
            if (pageUrl === 'home') {
                history.replaceState(null, '', window.location.pathname);
                updateAddressBar('https://santi.wtf');
            } else if (pageUrl === 'archive') {
                history.replaceState(null, '', '#archive');
                updateAddressBar('https://santi.wtf/archive');
            } else {
                history.replaceState(null, '', '#' + pageUrl);
                const postName = pageUrl.replace('posts/', '').replace('.html', '');
                updateAddressBar('https://santi.wtf/' + postName);
            }
        }

        // Stop loading (placeholder for now)
        function stopLoading() {
            // In a real browser this would stop page loading
            // For now, just a visual feedback
            console.log('Stop loading');
        }

        // Refresh current page
        function refreshPage() {
            if (historyPosition >= 0 && browserHistory[historyPosition]) {
                const page = browserHistory[historyPosition];
                if (page.url === 'home') {
                    loadHome();
                    historyPosition--; // loadHome adds to history, so adjust
                } else if (page.url === 'archive') {
                    loadArchive();
                    historyPosition--;
                } else {
                    loadPost(page.url);
                    historyPosition--;
                }
            } else {
                loadHome();
            }
        }

        // Handle hash-based routing
        function handleRoute() {
            const hash = window.location.hash.slice(1); // Remove the #

            if (!hash || hash === '') {
                loadHome(false);
            } else if (hash === 'archive') {
                loadArchive(false);
            } else if (hash.startsWith('posts/')) {
                loadPost(hash, false);
            } else {
                // Unknown route, go home
                loadHome(false);
            }
        }

        // Listen for browser back/forward navigation
        window.addEventListener('popstate', handleRoute);

        // Open IE on load and route based on URL hash
        window.onload = () => {
            openWindow('internet');
            handleRoute(); // Load page based on URL hash
            updateClock(); // Set initial time
            setInterval(updateClock, 1000); // Update every second
        };

        // Update the clock
        function updateClock() {
            const now = new Date();
            let hours = now.getHours();
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const ampm = hours >= 12 ? 'PM' : 'AM';
            
            hours = hours % 12;
            hours = hours ? hours : 12; // 0 should be 12
            
            const timeString = `${hours}:${minutes} ${ampm}`;
            document.getElementById('clock').textContent = timeString;
        }

        // ==========================================
        // WINAMP PLAYER
        // ==========================================

        const playlist = [
            { title: 'Esperanza', artist: 'vibes', src: 'vibes/Esperanza.mp3' },
            { title: 'Community', artist: 'vibes', src: 'vibes/Community.mp3' }
        ];

        let currentTrack = 0;
        let isPlaying = false;
        let visualizerInterval = null;

        const audio = document.getElementById('audioPlayer');
        const playBtn = document.getElementById('playBtn');
        const winampTime = document.getElementById('winamp-time');
        const winampSeekFill = document.getElementById('winamp-seek-fill');
        const winampTicker = document.getElementById('winamp-ticker');
        const winampVolumeFill = document.getElementById('winamp-volume-fill');
        const visualizer = document.getElementById('visualizer');
        const playlistContainer = document.getElementById('winamp-playlist');

        function initWinamp() {
            audio.volume = 0.8;
            winampVolumeFill.style.width = '80%';
            renderPlaylist();
            loadTrack(0);
            audio.addEventListener('timeupdate', updateTimeDisplay);
            audio.addEventListener('ended', nextTrack);
            audio.addEventListener('loadedmetadata', updatePlaylistDurations);
        }

        function renderPlaylist() {
            const header = playlistContainer.querySelector('.winamp-playlist-header');
            playlistContainer.innerHTML = '';
            playlistContainer.appendChild(header);
            playlist.forEach((track, index) => {
                const item = document.createElement('div');
                item.className = 'winamp-playlist-item' + (index === currentTrack ? ' active' : '');
                item.innerHTML = `
                    <span class="winamp-playlist-num">${index + 1}.</span>
                    <span class="winamp-playlist-title">${track.artist} - ${track.title}</span>
                    <span class="winamp-playlist-duration" id="duration-${index}">--:--</span>
                `;
                item.onclick = () => { loadTrack(index); winampPlay(); };
                playlistContainer.appendChild(item);
            });
        }

        function loadTrack(index) {
            if (index < 0 || index >= playlist.length) return;
            currentTrack = index;
            const track = playlist[currentTrack];
            audio.src = track.src;
            winampTicker.textContent = `${track.artist} - ${track.title}`;
            document.querySelectorAll('.winamp-playlist-item').forEach((item, i) => {
                item.classList.toggle('active', i === currentTrack);
            });
            winampTime.textContent = '0:00';
            winampSeekFill.style.width = '0%';
        }

        function updatePlaylistDurations() {
            const durationEl = document.getElementById(`duration-${currentTrack}`);
            if (durationEl && audio.duration) {
                durationEl.textContent = formatTime(audio.duration);
            }
        }

        function winampPlay() {
            audio.play().then(() => {
                isPlaying = true;
                playBtn.classList.add('playing');
                winampTicker.classList.remove('paused');
                startVisualizer();
            }).catch(err => console.log('Playback failed:', err));
        }

        function winampPause() {
            audio.pause();
            isPlaying = false;
            playBtn.classList.remove('playing');
            winampTicker.classList.add('paused');
            stopVisualizer();
        }

        function winampStop() {
            audio.pause();
            audio.currentTime = 0;
            isPlaying = false;
            playBtn.classList.remove('playing');
            winampTicker.classList.add('paused');
            winampTime.textContent = '0:00';
            winampSeekFill.style.width = '0%';
            stopVisualizer();
        }

        function prevTrack() {
            if (audio.currentTime > 3) {
                audio.currentTime = 0;
            } else {
                const newIndex = (currentTrack - 1 + playlist.length) % playlist.length;
                loadTrack(newIndex);
                if (isPlaying) winampPlay();
            }
        }

        function nextTrack() {
            const newIndex = (currentTrack + 1) % playlist.length;
            loadTrack(newIndex);
            if (isPlaying) winampPlay();
        }

        function updateTimeDisplay() {
            if (!audio.duration) return;
            winampTime.textContent = formatTime(audio.currentTime);
            winampSeekFill.style.width = (audio.currentTime / audio.duration) * 100 + '%';
        }

        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs.toString().padStart(2, '0')}`;
        }

        function seekTo(event) {
            const seekBar = document.getElementById('winamp-seek');
            const rect = seekBar.getBoundingClientRect();
            const percent = (event.clientX - rect.left) / rect.width;
            audio.currentTime = percent * audio.duration;
        }

        function setVolume(event) {
            const volumeBar = event.currentTarget;
            const rect = volumeBar.getBoundingClientRect();
            const percent = Math.max(0, Math.min(1, (event.clientX - rect.left) / rect.width));
            audio.volume = percent;
            winampVolumeFill.style.width = (percent * 100) + '%';
        }

        function startVisualizer() {
            if (visualizerInterval) return;
            const bars = visualizer.querySelectorAll('.viz-bar');
            visualizerInterval = setInterval(() => {
                bars.forEach(bar => { bar.style.height = (Math.random() * 80 + 10) + '%'; });
            }, 100);
        }

        function stopVisualizer() {
            if (visualizerInterval) { clearInterval(visualizerInterval); visualizerInterval = null; }
            const bars = visualizer.querySelectorAll('.viz-bar');
            bars.forEach((bar, i) => { bar.style.height = (10 + (i % 3) * 10) + '%'; });
        }

        function togglePlay() { isPlaying ? winampPause() : winampPlay(); }
        function pauseMusic() { winampPause(); }
        function stopMusic() { winampStop(); }

        document.addEventListener('DOMContentLoaded', initWinamp);

        // ==========================================
        // FIREBASE GUESTBOOK
        // ==========================================

        const firebaseConfig = {
            apiKey: "AIzaSyDUcoZ437gcv8w99atWiMixK4ebvpxHwCw",
            authDomain: "santi-guestbook.firebaseapp.com",
            databaseURL: "https://santi-guestbook-default-rtdb.firebaseio.com",
            projectId: "santi-guestbook",
            storageBucket: "santi-guestbook.firebasestorage.app",
            messagingSenderId: "456705609062",
            appId: "1:456705609062:web:2a0feac46c2692bff9cca7"
        };

        let db;
        try {
            firebase.initializeApp(firebaseConfig);
            db = firebase.database();
            initGuestbook();
        } catch (e) {
            console.log('Firebase not configured yet');
            document.getElementById('guestbook-comments').innerHTML =
                '<div style="text-align: center; color: #666; padding: 20px;">Guestbook coming soon!</div>';
        }

        function initGuestbook() {
            const commentsRef = db.ref('guestbook').orderByChild('timestamp').limitToLast(50);
            commentsRef.on('value', (snapshot) => {
                const commentsContainer = document.getElementById('guestbook-comments');
                const comments = [];
                snapshot.forEach((child) => { comments.push({ id: child.key, ...child.val() }); });
                comments.reverse();
                if (comments.length === 0) {
                    commentsContainer.innerHTML = '<div style="text-align: center; color: #666; padding: 20px;">Be the first to leave a comment!</div>';
                    return;
                }
                commentsContainer.innerHTML = comments.map((comment, index) => `
                    <div class="chat-message">
                        <button class="chat-delete" onclick="deleteComment('${comment.id}')">X</button>
                        <div class="chat-author">${escapeHtml(comment.name || 'Anonymous')} <span class="chat-number">#${comments.length - index}</span></div>
                        <div>${escapeHtml(comment.message)}</div>
                    </div>
                `).join('');
            });

            document.getElementById('guestbook-form').addEventListener('submit', async (e) => {
                e.preventDefault();
                const nameInput = document.getElementById('guestbook-name');
                const messageInput = document.getElementById('guestbook-message');
                const submitBtn = document.getElementById('guestbook-submit');
                const name = nameInput.value.trim();
                const message = messageInput.value.trim();
                if (!message) return;
                submitBtn.disabled = true;
                submitBtn.textContent = 'Posting...';
                try {
                    await db.ref('guestbook').push({
                        name: name || 'Anonymous',
                        message: message,
                        timestamp: firebase.database.ServerValue.TIMESTAMP
                    });
                    nameInput.value = '';
                    messageInput.value = '';
                } catch (error) {
                    console.error('Error posting comment:', error);
                    alert('Failed to post comment. Please try again.');
                }
                submitBtn.disabled = false;
                submitBtn.textContent = 'Post';
            });
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // ==========================================
        // GUESTBOOK ADMIN MODE
        // ==========================================

        const ADMIN_PASSWORD = 'wtf123';
        let isAdminMode = false;
        let clickCount = 0;
        let clickTimer = null;

        document.querySelector('#chat .title-bar').addEventListener('click', (e) => {
            clickCount++;
            if (clickCount === 3) {
                clickCount = 0;
                clearTimeout(clickTimer);
                toggleAdminMode();
            } else {
                clearTimeout(clickTimer);
                clickTimer = setTimeout(() => { clickCount = 0; }, 500);
            }
        });

        function toggleAdminMode() {
            if (!isAdminMode) {
                const password = prompt('Enter admin password:');
                if (password === ADMIN_PASSWORD) {
                    isAdminMode = true;
                    document.getElementById('chat').classList.add('admin-mode');
                    alert('Admin mode enabled. You can now delete comments.');
                }
            } else {
                isAdminMode = false;
                document.getElementById('chat').classList.remove('admin-mode');
            }
        }

        function deleteComment(commentId) {
            if (!isAdminMode) return;
            if (confirm('Delete this comment?')) {
                db.ref('guestbook/' + commentId).remove()
                    .catch(err => alert('Failed to delete: ' + err.message));
            }
        }
    </script>
</body>
</html>